More refactoring for componentializing program/image structures
